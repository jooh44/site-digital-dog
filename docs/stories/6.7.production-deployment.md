# Story 6.7: Production Deployment

**Epic:** 6 - Optimization & Launch  
**Status:** Draft  
**Sprint:** 6 (Semanas 11-12)  
**Prioridade:** ðŸ”´ CrÃ­tica

---

## Story

**As a** website owner,  
**I want** the website deployed to production with DNS and SSL configured,  
**so that** the website is live and accessible to users.

---

## Acceptance Criteria

1. DNS configured and pointing to VPS
2. SSL active and auto-renewal configured
3. Final deploy to production completed
4. Smoke tests executed and passing
5. All services running correctly

---

## Tasks / Subtasks

- [ ] Task 1: Configure DNS (AC: 1)
  - [ ] Point domain DNS to VPS IP (46.202.147.75)
  - [ ] Configure A records
  - [ ] Verify DNS propagation
  - [ ] Test domain accessibility

- [ ] Task 2: Configure SSL (AC: 2)
  - [ ] Generate SSL certificate with Let's Encrypt
  - [ ] Configure Nginx with SSL
  - [ ] Test HTTPS access
  - [ ] Verify auto-renewal configured

- [ ] Task 3: Final Production Deploy (AC: 3)
  - [ ] Deploy latest code to production
  - [ ] Run database migrations
  - [ ] Verify all services start
  - [ ] Check logs for errors

- [ ] Task 4: Execute Smoke Tests (AC: 4)
  - [ ] Test homepage loads
  - [ ] Test all pages load
  - [ ] Test form submission
  - [ ] Test API endpoints
  - [ ] Verify all functionality works

- [ ] Task 5: Verify Services (AC: 5)
  - [ ] Check Next.js container running
  - [ ] Check PostgreSQL running
  - [ ] Check Nginx running
  - [ ] Verify health check endpoint

---

## Dev Notes

### Previous Story Insights
[From Story 1.6]
- Initial deploy completed
- SSL configured
- Health check endpoint created

### DNS Configuration
[Source: architecture/deployment.md - Section 11]

- A record: `digitaldog.pet` â†’ 46.202.147.75
- A record: `www.digitaldog.pet` â†’ 46.202.147.75 (optional)

### SSL Configuration
[Source: architecture/deployment.md - Section 11]

- Let's Encrypt certificates
- Auto-renewal via Certbot
- Nginx SSL configuration

### VPS Access
[Source: architecture/deployment.md - Section 11]

- Host: 46.202.147.75
- User: root
- SSH Script: `ssh_run.py`

### File Locations
[Source: architecture/source-tree.md]

- Deployment: VPS (`/var/www/digitaldog-website`)
- Nginx config: `nginx.conf`
- Docker compose: `docker-compose.yml`

### Testing
[Source: architecture/testing-strategy.md]

**Testing Standards:**
- Test DNS resolution
- Test HTTPS access
- Run smoke tests
- Verify all services
- For this story: Comprehensive deployment testing

---

## Change Log

| Date | Version | Description | Author |
|------|---------|-------------|--------|
| 2025-11-17 | 1.0 | Initial story creation | SM (Bob) |

---

## Dev Agent Record

### Agent Model Used
_To be filled by Dev Agent_

### Debug Log References
_To be filled by Dev Agent_

### Completion Notes List
_To be filled by Dev Agent_

### File List
_To be filled by Dev Agent_

---

## QA Results
_To be filled by QA Agent_

---

