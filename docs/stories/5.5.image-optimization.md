# Story 5.5: Image Optimization

**Epic:** 5 - Homepage Advanced  
**Status:** Draft  
**Sprint:** 5 (Semanas 9-10)  
**Prioridade:** ðŸŸ¡ Alta

---

## Story

**As a** website visitor,  
**I want** images to load quickly and efficiently,  
**so that** the website performs well and provides a good user experience.

---

## Acceptance Criteria

1. All images converted to WebP format
2. Lazy loading implemented for below-fold images
3. Image sizes optimized (appropriate quality)
4. Next.js Image component used throughout
5. Performance improved (LCP, FCP metrics)

---

## Tasks / Subtasks

- [ ] Task 1: Convert Images to WebP (AC: 1)
  - [ ] Identify all images in project
  - [ ] Convert to WebP format
  - [ ] Maintain quality (85% recommended)
  - [ ] Update image references

- [ ] Task 2: Implement Lazy Loading (AC: 2)
  - [ ] Use Next.js Image component with `loading="lazy"`
  - [ ] Apply to all below-fold images
  - [ ] Keep `priority` for above-fold images

- [ ] Task 3: Optimize Image Sizes (AC: 3)
  - [ ] Resize images to appropriate dimensions
  - [ ] Use responsive sizes (srcset)
  - [ ] Optimize quality settings

- [ ] Task 4: Replace img with Next.js Image (AC: 4)
  - [ ] Replace all `<img>` tags with `<Image>`
  - [ ] Add proper width and height
  - [ ] Add alt text
  - [ ] Configure priority for above-fold

- [ ] Task 5: Verify Performance (AC: 5)
  - [ ] Run Lighthouse audit
  - [ ] Check LCP, FCP metrics
  - [ ] Verify images load efficiently

---

## Dev Notes

### Previous Story Insights
[From Epic 2, 5]
- Multiple images added (hero, cases, testimonials, etc.)

### Image Optimization
[Source: architecture/performance-optimization.md - Section 9]

**Next.js Image Component:**
```tsx
import Image from 'next/image';

<Image
  src="/images/hero-bg.webp"
  alt="Digital Dog Hero"
  width={1920}
  height={1080}
  priority // Above fold
  quality={85}
/>

<Image
  src="/images/case-study.webp"
  alt="Case Study"
  width={800}
  height={600}
  loading="lazy" // Below fold
/>
```

### Performance Requirements
[Source: prd/requisitos-nao-funcionais.md]

- LCP <2.5s
- FCP <1.8s
- Total page size <2MB
- Images: WebP + lazy load

### File Locations
[Source: architecture/source-tree.md]

- Images: `public/images/`
- Components using images: Various

### Testing
[Source: architecture/testing-strategy.md]

**Testing Standards:**
- Test images load correctly
- Test lazy loading works
- Run Lighthouse audit
- Check performance metrics
- For this story: Manual testing + Lighthouse

---

## Change Log

| Date | Version | Description | Author |
|------|---------|-------------|--------|
| 2025-11-17 | 1.0 | Initial story creation | SM (Bob) |

---

## Dev Agent Record

### Agent Model Used
_To be filled by Dev Agent_

### Debug Log References
_To be filled by Dev Agent_

### Completion Notes List
_To be filled by Dev Agent_

### File List
_To be filled by Dev Agent_

---

## QA Results
_To be filled by QA Agent_

---

